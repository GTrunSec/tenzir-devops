#+TITLE: README
#+AUTHOR: GuangTao Zhang
#+EMAIL: gtrunsec@hardenedlinux.org
#+DATE: 2023-07-21 Fri 06:43

* Configuration languages or files

By simply placing the supported configuration file formats in the corresponding directory, the auto-importing mechanism will be triggered automatically.

- devshell -> dir -> ./devshell
  - nix,yaml
- tasks -> dir -> ./devshell
  - nix,json,yaml
- schemas -> dir -> ./tenzir/schemas/

Moreover, users have the flexibility to modify the structure of the related cells' paths by using the "cellsFrom" field in the *./devshell.toml*.

* Getting stated

- with docker/podman
#+begin_src bash
docker pull ghcr.io/gtrunsec/tenzir-devshell-users:latest
docker run --platform linux/amd64 -it -v "$(pwd):/work" --entrypoint bash ghcr.io/gtrunsec/tenzir-devshell-users:latest
podman run --platform linux/amd64 -it -v "$(pwd):/work" --userns=keep-id --entrypoint bash ghcr.io/gtrunsec/tenzir-devshell-users:latest
#+end_src

- with nix-direnv

#+begin_src bash
direnv allow
#+end_src

* Concepts
** auto-importing/merging

- user dir: *./tenzir/schemas/sysmon.yaml*
- source: https://github.com/tenzir/tenzir/blob/main/schema/concepts/sysmon.yaml

If the *sysmon.yaml* file exists within the user directory, then automatic merging the data with source and generating the final file into the "generated-sysmon.yaml".

make sure, you have set the *source* and *data* fields correctly.

#+begin_src yaml
# upstream's schema data
source: "/schema/concepts/sysmon.yaml"
# your own data
data:
- concept:
  ...
#+end_src

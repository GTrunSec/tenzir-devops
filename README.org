#+TITLE: README
#+AUTHOR: GuangTao Zhang
#+EMAIL: gtrunsec@hardenedlinux.org
#+DATE: 2023-07-21 Fri 06:43

* Configuration languages or files

By simply placing the supported configuration file formats in the corresponding directory, the auto-importing mechanism will be triggered automatically.
#+begin_quote
 We have a global command-line tool called ~std~ that allows users to query and execute various tasks.
#+end_quote

- [X] ~devshell~ -> dir -> ./cells/devshell
  - nix,yaml(overrideOnly)
- [X] ~tasks~ -> dir -> ./cells/tasks/tasks
  - nix,json(overrideOnly),yaml(overrideOnly)
- [X] ~schemas~ -> dir -> ./tenzir/schemas/
- [ ] ~terraform~ -> dir -> ./deploy/tf
  - nix(terranix),hcl,json(overrideOnly)
- [ ] ~kubernets~ -> dir -> ./deploy/k8s
  - ts(architect-k8s-template),yaml,nickel,nix,json


Moreover, users have the flexibility to modify the structure of the related cells' paths by using the ~cellsFrom~ field in the ~./devshell.toml~.

* Getting stated

- with docker/podman
#+begin_src bash
docker pull ghcr.io/gtrunsec/tenzir-devshell-users:latest
docker run --platform linux/amd64 -it -v "$(pwd):/work" --entrypoint bash ghcr.io/gtrunsec/tenzir-devshell-users:latest
podman run --platform linux/amd64 -it -v "$(pwd):/work" --userns=keep-id --entrypoint bash ghcr.io/gtrunsec/tenzir-devshell-users:latest
#+end_src

- with nix-direnv

#+begin_src bash
direnv allow
#+end_src

* Concepts
** auto-importing/merging

- user dir: ~./tenzir/schemas/sysmon.yaml~
- source: https://github.com/tenzir/tenzir/blob/main/schema/concepts/sysmon.yaml

If the ~sysmon.yaml~ file exists within the user directory, then automatic merging the data with source and generating the final file into the ~generated-sysmon.yaml~.

make sure, you have set the ~source~ and ~data~ fields correctly.

#+begin_src yaml
# upstream's schema data
source: "/schema/concepts/sysmon.yaml"
# your own data
data:
- concept:
  ...
#+end_src
